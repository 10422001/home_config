



alias pdfintotxtunivim="fd pdf $HOME/Uni/univim/downloads --extension pdf -x pdftotext {} $HOME/Uni/univim/downloads/.pdftext/{/.}.txt"
alias fzfpdf="fd .pdf$ . | fzf --layout=reverse-list --multi --preview-window 'right:60%' --preview ' pdftotext -layout -f 1  {} -'"

alias fzftxt="fd .txt$ . | fzf --layout=reverse-list  --preview-window 'right:60%' --preview 'bat --color=always --style=header,grid  {}'"
fza() { 
		case "$1" in 
				
				1) echo "txt";
				;;
				2) echo "pdf";
				;;	
				"pdf") echo pdf;
						fzfpdf;
				;;
				"txt") echo txt;
						fzftxt;
		esac	
}

p () {
    local open
    open=open   # on OSX, "open" opens a pdf in preview
    fd 'pdf$' \
    | fzf --read0 --reverse -e -d $'\t'  \
        --preview-window down:80% --preview '
            v=$(echo {q} | gtr " " "|"); 
            echo -e {1}"\n"{2} | ggrep -E "^|$v" -i --color=always;
        ' \
    | gcut -z -f 1 -d $'\t' | gtr -d '\n' | gxargs -r --null $open > /dev/null 2> /dev/null
}
